{"ast":null,"code":"import { db } from \"../../utils/firebaseConfig\";\nexport const createComment = (comment, gameId, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n\n  return db.collection(\"Comments\").add({\n    author: currentUser.displayName,\n    gameId: gameId,\n    text: comment,\n    profilID: currentUser.uid\n  }).then(() => {\n    console.log(\"createComment OK\");\n    return true;\n  }).catch(reason => {\n    console.log(\"createComment Error : \" + reason);\n    return false;\n  });\n};\nexport const updateComment = (updatedText, comment, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n\n  return db.collection(\"Comments\").doc(comment.id).set({\n    author: comment.data().author,\n    gameId: comment.data().gameId,\n    profilID: comment.data().profilID,\n    text: updatedText\n  }).then(() => {\n    console.log(\"updateComment OK\");\n    return true;\n  }).catch(reason => {\n    console.log(\"updateComment Error : \" + reason);\n    return false;\n  });\n};\nexport const deleteComment = (comment, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n\n  return db.collection(\"Comments\").doc(comment.id).delete().then(() => {\n    console.log(\"deleteComment OK\");\n    return true;\n  }).catch(reason => {\n    console.log(\"deleteComment Error : \" + reason);\n    return false;\n  });\n};","map":{"version":3,"sources":["/Users/benjaminserval/dev/GameV2/gamesite/src/components/comments/FirestoreService.jsx"],"names":["db","createComment","comment","gameId","currentUser","collection","add","author","displayName","text","profilID","uid","then","console","log","catch","reason","updateComment","updatedText","doc","id","set","data","deleteComment","delete"],"mappings":"AAAA,SAASA,EAAT,QAAmB,4BAAnB;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,OAAD,EAAUC,MAAV,EAAkBC,WAAlB,KAAkC;AAC7D,MAAIA,WAAW,KAAK,IAApB,EAA0B;AACxB;AACD;;AACD,SAAOJ,EAAE,CACNK,UADI,CACO,UADP,EAEJC,GAFI,CAEA;AACHC,IAAAA,MAAM,EAAEH,WAAW,CAACI,WADjB;AAEHL,IAAAA,MAAM,EAAEA,MAFL;AAGHM,IAAAA,IAAI,EAAEP,OAHH;AAIHQ,IAAAA,QAAQ,EAAEN,WAAW,CAACO;AAJnB,GAFA,EAQJC,IARI,CAQC,MAAM;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,WAAO,IAAP;AACD,GAXI,EAYJC,KAZI,CAYEC,MAAM,IAAI;AACfH,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2BE,MAAvC;AACA,WAAO,KAAP;AACD,GAfI,CAAP;AAgBD,CApBM;AAsBP,OAAO,MAAMC,aAAa,GAAG,CAACC,WAAD,EAAchB,OAAd,EAAuBE,WAAvB,KAAuC;AAClE,MAAIA,WAAW,KAAK,IAApB,EAA0B;AACxB;AACD;;AAED,SAAOJ,EAAE,CACNK,UADI,CACO,UADP,EAEJc,GAFI,CAEAjB,OAAO,CAACkB,EAFR,EAGJC,GAHI,CAGA;AACHd,IAAAA,MAAM,EAAEL,OAAO,CAACoB,IAAR,GAAef,MADpB;AAEHJ,IAAAA,MAAM,EAAED,OAAO,CAACoB,IAAR,GAAenB,MAFpB;AAGHO,IAAAA,QAAQ,EAAER,OAAO,CAACoB,IAAR,GAAeZ,QAHtB;AAIHD,IAAAA,IAAI,EAAES;AAJH,GAHA,EASJN,IATI,CASC,MAAM;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,WAAO,IAAP;AACD,GAZI,EAaJC,KAbI,CAaEC,MAAM,IAAI;AACfH,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2BE,MAAvC;AACA,WAAO,KAAP;AACD,GAhBI,CAAP;AAiBD,CAtBM;AAwBP,OAAO,MAAMO,aAAa,GAAG,CAACrB,OAAD,EAAUE,WAAV,KAA0B;AACrD,MAAIA,WAAW,KAAK,IAApB,EAA0B;AACxB;AACD;;AAED,SAAOJ,EAAE,CACNK,UADI,CACO,UADP,EAEJc,GAFI,CAEAjB,OAAO,CAACkB,EAFR,EAGJI,MAHI,GAIJZ,IAJI,CAIC,MAAM;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,WAAO,IAAP;AACD,GAPI,EAQJC,KARI,CAQEC,MAAM,IAAI;AACfH,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2BE,MAAvC;AACA,WAAO,KAAP;AACD,GAXI,CAAP;AAYD,CAjBM","sourcesContent":["import { db } from \"../../utils/firebaseConfig\";\n\nexport const createComment = (comment, gameId, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n  return db\n    .collection(\"Comments\")\n    .add({\n      author: currentUser.displayName,\n      gameId: gameId,\n      text: comment,\n      profilID: currentUser.uid\n    })\n    .then(() => {\n      console.log(\"createComment OK\");\n      return true;\n    })\n    .catch(reason => {\n      console.log(\"createComment Error : \" + reason);\n      return false;\n    });\n};\n\nexport const updateComment = (updatedText, comment, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n\n  return db\n    .collection(\"Comments\")\n    .doc(comment.id)\n    .set({\n      author: comment.data().author,\n      gameId: comment.data().gameId,\n      profilID: comment.data().profilID,\n      text: updatedText\n    })\n    .then(() => {\n      console.log(\"updateComment OK\");\n      return true;\n    })\n    .catch(reason => {\n      console.log(\"updateComment Error : \" + reason);\n      return false;\n    });\n};\n\nexport const deleteComment = (comment, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n\n  return db\n    .collection(\"Comments\")\n    .doc(comment.id)\n    .delete()\n    .then(() => {\n      console.log(\"deleteComment OK\");\n      return true;\n    })\n    .catch(reason => {\n      console.log(\"deleteComment Error : \" + reason);\n      return false;\n    });\n};\n\n"]},"metadata":{},"sourceType":"module"}