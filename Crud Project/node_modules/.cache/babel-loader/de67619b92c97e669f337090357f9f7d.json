{"ast":null,"code":"import { db } from \"../../utils/firebaseConfig\";\nexport const createComment = (comment, gameId, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n\n  return db.collection(\"Comments\").add({\n    author: currentUser.displayName,\n    gameId: gameId,\n    text: comment,\n    profilID: currentUser.uid\n  });\n};\nexport const updateComment = (updatedText, comment, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n\n  let commentUpdated = comment;\n  commentUpdated.text = updatedText;\n  console.log(\"data\" + commentUpdated.data().text);\n  console.log(\"nim \" + comment.text);\n  return db.collection(\"Comments\").doc(comment.id).set({\n    author: commentUpdated.data().author,\n    gameId: commentUpdated.data().gameId,\n    profilID: commentUpdated.data().profilID,\n    text: commentUpdated.data().text\n  }).then(() => {\n    console.log(\"updateComment OK\");\n    return true;\n  }).catch(reason => {\n    console.log(\"updateComment Error : \" + reason);\n    return false;\n  });\n};","map":{"version":3,"sources":["/Users/benjaminserval/dev/GameV2/gamesite/src/components/comments/FirestoreService.jsx"],"names":["db","createComment","comment","gameId","currentUser","collection","add","author","displayName","text","profilID","uid","updateComment","updatedText","commentUpdated","console","log","data","doc","id","set","then","catch","reason"],"mappings":"AAAA,SAASA,EAAT,QAAmB,4BAAnB;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,OAAD,EAAUC,MAAV,EAAkBC,WAAlB,KAAkC;AAC7D,MAAIA,WAAW,KAAK,IAApB,EAA0B;AACxB;AACD;;AACD,SAAOJ,EAAE,CAACK,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B;AACnCC,IAAAA,MAAM,EAAEH,WAAW,CAACI,WADe;AAEnCL,IAAAA,MAAM,EAAEA,MAF2B;AAGnCM,IAAAA,IAAI,EAAEP,OAH6B;AAInCQ,IAAAA,QAAQ,EAAEN,WAAW,CAACO;AAJa,GAA9B,CAAP;AAMD,CAVM;AAYP,OAAO,MAAMC,aAAa,GAAG,CAACC,WAAD,EAAcX,OAAd,EAAuBE,WAAvB,KAAuC;AAElE,MAAIA,WAAW,KAAK,IAApB,EAA0B;AACxB;AACD;;AAED,MAAIU,cAAc,GAAGZ,OAArB;AACAY,EAAAA,cAAc,CAACL,IAAf,GAAsBI,WAAtB;AAEAE,EAAAA,OAAO,CAACC,GAAR,CAAY,SAASF,cAAc,CAACG,IAAf,GAAsBR,IAA3C;AACFM,EAAAA,OAAO,CAACC,GAAR,CAAY,SAASd,OAAO,CAACO,IAA7B;AAIE,SAAOT,EAAE,CAACK,UAAH,CAAc,UAAd,EACNa,GADM,CACFhB,OAAO,CAACiB,EADN,EAENC,GAFM,CAEF;AAACb,IAAAA,MAAM,EAAEO,cAAc,CAACG,IAAf,GAAsBV,MAA/B;AAAuCJ,IAAAA,MAAM,EAAEW,cAAc,CAACG,IAAf,GAAsBd,MAArE;AACHO,IAAAA,QAAQ,EAAEI,cAAc,CAACG,IAAf,GAAsBP,QAD7B;AACuCD,IAAAA,IAAI,EAAEK,cAAc,CAACG,IAAf,GAAsBR;AADnE,GAFE,EAINY,IAJM,CAID,MAAM;AACVN,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,WAAO,IAAP;AACD,GAPM,EAQNM,KARM,CAQAC,MAAM,IAAI;AACfR,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAA2BO,MAAvC;AACA,WAAO,KAAP;AACD,GAXM,CAAP;AAYD,CA1BM","sourcesContent":["import { db } from \"../../utils/firebaseConfig\";\n\nexport const createComment = (comment, gameId, currentUser) => {\n  if (currentUser === null) {\n    return;\n  }\n  return db.collection(\"Comments\").add({\n    author: currentUser.displayName,\n    gameId: gameId,\n    text: comment,\n    profilID: currentUser.uid\n  });\n};\n\nexport const updateComment = (updatedText, comment, currentUser) => {\n  \n  if (currentUser === null) {\n    return;\n  }\n\n  let commentUpdated = comment\n  commentUpdated.text = updatedText\n\n  console.log(\"data\" + commentUpdated.data().text)\nconsole.log(\"nim \" + comment.text)\n\n\n\n  return db.collection(\"Comments\")\n  .doc(comment.id)\n  .set({author: commentUpdated.data().author, gameId: commentUpdated.data().gameId, \n    profilID: commentUpdated.data().profilID, text: commentUpdated.data().text})\n  .then(() => {\n    console.log(\"updateComment OK\")\n    return true\n  })\n  .catch(reason => {\n    console.log(\"updateComment Error : \" + reason)\n    return false\n  })\n};"]},"metadata":{},"sourceType":"module"}